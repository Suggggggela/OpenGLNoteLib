这节我们来学习一下如何在OpenGL中渲染多个物体

## 1.渲染多个物体的思路
- 创建新的vao，再绘制一次
- 使用现有的数据，修改设置的Uniform变量，再绘制一次

准确来说第二种更像是绘制一个副本，因为我们并没有修改bind的这些数据
但是这节我们使用第二种方法来掩饰绘制多个物体的方法

## 2.绘制正方形副本
我们修改代码，在绘制正方形之后再次设置Uniform，修改位置再绘制一遍


```cpp
	//Renderer
	Renderer renderer;

	//imgui
	ImGui::CreateContext();
	ImGui_ImplGlfwGL3_Init(window, true);
	ImGui::StyleColorsDark();
	bool show_demo_window = true;
	bool show_another_window = false;

	float r = 0.0f;//Red Channel
	float increament = 0.05f;
	ImVec4 clear_color = ImVec4(0.45f, 0.55f, 0.60f, 1.00f);

	//#unbind everything
	//glBindVertexArray(0);//VAO
	//glBindBuffer(GL_ARRAY_BUFFER, 0);//vbo
	//glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);//ibo
	//glUseProgram(0);
	vao.Unbind();//VAO
	vbo.Unbind();//vbo
	ibo.Unbind();//ibo
	shader.UnBind();//shader

	//gui element
	glm::vec3 translation1(200, 200, 0);
	glm::vec4 mainColor1(0.0f, 0.3f, 0.8f,1.0f);	
	
	glm::vec3 translation2(200, 300, 0);
	glm::vec4 mainColor2(0.0f, 0.1f, 0.4f,0.5f);

	/* Loop until the user closes the window */
	while (!glfwWindowShouldClose(window))
	{
		/* Render here */
		//GLCall(glClear(GL_COLOR_BUFFER_BIT));
		renderer.Clear();

		//imgui
		ImGui_ImplGlfwGL3_NewFrame();

		shader.Bind();

		//render two object
		{
			glm::mat4 model = glm::translate(glm::mat4(1.0), translation1);//Model空间向上移动200，向右移动200
			glm::mat4 mvp = projection * view * model;
			//shader.SetUniform4f("u_Color", r, 0.3f, 0.8f, 1.0f);
			shader.SetUniform4f("u_Color", mainColor1.r, mainColor1.g, mainColor1.b, mainColor1.a);
			shader.SetUniformMat4f("u_MVP", mvp);
			renderer.Draw(vao, ibo, shader);
		}
		{
			shader.SetUniform4f("u_Color", mainColor2.r, mainColor2.g, mainColor2.b, mainColor2.a);
			glm::mat4 model = glm::translate(glm::mat4(1.0), translation2);//Model空间向上移动200，向右移动200
			glm::mat4 mvp = projection * view * model;
			shader.SetUniformMat4f("u_MVP", mvp);
			renderer.Draw(vao, ibo, shader);
		}
		//#bindVAO
		//vao.Bind();
		//ibo.Bind();
		//
		//GLCall(glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, nullptr));

		if (r > 1.0f)
		{
			increament = -0.05f;
		}
		else if (r < 0.0f)
		{
			increament = 0.05f;
		}
		r += increament * 0.1f;
		
		//imgui ui element 
		{
			static float f = 0.0f;
			static int counter = 0;
			ImGui::Text("Hello, world!");                           // Display some text (you can use a format string too)
			ImGui::SliderFloat3("Translation1", &translation1.x, 0.0f, 960.0f);            // Edit 1 float using a slider from 0.0f to 1.0f    
			ImGui::ColorEdit4("mainColor1", (float*)&mainColor1);
			
			ImGui::SliderFloat3("Translation2", &translation2.x, 0.0f, 960.0f);            // Edit 1 float using a slider from 0.0f to 1.0f    
			ImGui::ColorEdit4("mainColo2r", (float*)&mainColor2);
			ImGui::Text("Application average %.3f ms/frame (%.1f FPS)", 1000.0f / ImGui::GetIO().Framerate, ImGui::GetIO().Framerate);
		}
		//imgui
		ImGui::Render();
		ImGui_ImplGlfwGL3_RenderDrawData(ImGui::GetDrawData());

		/* Swap front and back buffers */
		glfwSwapBuffers(window);

		/* Poll for and process events */
		glfwPollEvents();
	}

	//imgui
	ImGui_ImplGlfwGL3_Shutdown();
	ImGui::DestroyContext();
	glfwTerminate();
	return 0;
}
```

![22.Render multiple Objects_image_1](assets/22.Render%20multiple%20Objects_image_1.png)

