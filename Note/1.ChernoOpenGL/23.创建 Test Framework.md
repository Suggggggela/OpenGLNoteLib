
本节的目标是通过imgui创建测试场景，创建测试菜单等内容，形成一个测试框架

## 一、构建测试框架
在src中创建tests文件夹，编写test头文件：

```cpp
#pragma once
namespace test 
{
	class Test
	{
	public:
		Test() {}
		virtual ~Test() {}
		virtual void OnUpdate(float deltaTime) = 0;
		virtual void OnRender() = 0;
		virtual void OnImGuiRender() = 0;
	};
}

```

## 二、ClearColor Test
接下来我们实现一个clearcolor的测试类

```cpp
//##headfile
#pragma once
#include "Test.h"

namespace test
{
	class TestClearColor : public test 
	{
	public:
		TestClearColor();
		~TestClearColor();

		void OnUpdate(float deltaTime) override;
		void OnRender() override;
		void OnImGuiRender() override;
	private:
		float m_ClearColor[4];
	};
}
```


```cpp
//##cpp
#include "TestClearColor.h"
#include "Renderer.h"
#include "imgui\imgui.h"

namespace test {

	test::TestClearColor::TestClearColor()
		: m_ClearColor{0.2f, 0.3f, 0.8f, 1.0f}
	{
	}

	test::TestClearColor::~TestClearColor()
	{
	}

	void test::TestClearColor::OnUpdate(float deltaTime)
	{

	}


	void test::TestClearColor::OnRender()
	{
		GLCall(glClearColor(m_ClearColor[0], m_ClearColor[1], m_ClearColor[2], m_ClearColor[3]));
		GLCall(glClear(GL_COLOR_BUFFER_BIT));
	}

	void test::TestClearColor::OnImGuiRender()
	{
		ImGui::ColorEdit4("Clear Color", m_ClearColor);
	}

}
```

在主程序cpp中，我们就可以使用这个测试框架了：

```cpp
#include "tests\TestClearColor.h"
test::TestClearColor test;
while(!glfwWindowShouldClose(window))
{
    test.OnUpdate(0.0f);
    test.OnRender();

    //imgui
    {
        test.OnImGuiRender();
    }
}
```
