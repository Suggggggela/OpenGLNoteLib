## GLFW
- why use glfw
对于系统层面的操作，不同系统之间是截然不同的，例如：创建窗口、创建OpenGL Context
类似的操作OpenGL有意的抽象出去了，也就是说我们需要自己进行
所以我们需要一些库来提供支持

- what‘s glfw
glfw是针对OpenGL的一个c语言库，使用它我们可以更轻松的完成一系列操作系统层面的功能

## Build GLFW
- pre-compiled issue & why build glfw ourselves
	
	glfw官方提供了一些IDE的预编译库文件，但是就是像上述glfw存在的原因一样，每个人的硬件信息、操作系统、IDE都存在差异，这就意味着你下载下来的库文件并不一定完全可用

     所以，为了避免这种低级又消耗人耐心的问题出现，我们选择直接自己编译库文件
  
- about cMake
    为了自己编译库文件，我们不得不使用给定的.c/.cpp和.h/.hpp文件来自己建立项目/解决方案，但是这是一件很枯燥的工作
    cMake是一个工程文件生成工具，我们可以通过预定义的Cmake脚本，生成不同IDE的工程文件

- build setp
	- download glfw sourcecode [glfw](https://www.glfw.org/download.html)
	- download cMake [cMake](https://cmake.org/download/#latest)
	- use GUIversion cMake，browse source and build folder
	- configure specific IDE 
	- generate ， compile lib files
  这里我们为了方便，直接使用GUI版本的Cmake，选择好SourceCode位置和生成项目文件的位置，Configure设置IDE版本，Generate生成项目文件即可

  用VS打开项目文件后，点击Build Solution，库文件就编译好了，存放在build/src/Debug文件夹内

  最后，总结一下我们需要的两个文件：
  - glfw3.lib（刚刚自己编译好的库文件）
  - glfw3.h、glfw3native.h（在源码/include/GLFW文件夹中）

- two ways to make IDE find reference
	- 1.put them in IDE /lib /include files
	- 2.put them in a new folde,use them in IDE
	- why use way2
 
 对于这两个依赖文件，我们可以通过以上两种方法让IDE知道在哪，分别是直接放到IDE的库文件头文件引用文件夹、告诉IDE一个指定的外部文件夹路径
 一般第二个做法更正确


## first project
新建一个空项目，在项目右键Properties中指认环境配置
### Linking
- project-properties
	- vc++ directories
	- link-input
 指认依赖可以大致分为两个部分：
 - 依赖文件，也就是上边提到的库文件和头文件，我们可以根据上述的选择，在项目中新建一个文件夹，用来存放依赖文件
 - 链接器input（要链接库文件，需要告诉linker库名字）



 //这里可以贴一下Cherno对于引用错误的解决思路，授之于渔
[1.Setting up ＆ Creat a window 第四节-Find ＆ Add Dependency u Need](../../1.Cherno/1.Setting%20up%20＆%20Creat%20a%20window.md)

### GLAD
- why use GLAD
    我们之前已经提到，OpenGL只是一个标准，具体实现是显卡驱动厂商实现的。
    而且驱动版本众多，大多数函数的位置没有办法在编译的时候确定下来，而是运行时查询的，这个任务就又又又落到我们身上了
    我们需要在运行时获取函数地址存在一个函数指针中，以供以后使用，并且取得地址的方法因平台而异
    这个过程非常繁琐、而且需要重复
    
    luckyly，有些库是简化过此过程的，GLAD就是目前最新最流行的
    
- setting up GLAD
    GLAD是一个开源库，我们在它的在线服务网站上，选择对应的语言，即可生成库文件，这里的配置如下：
    - C/C++
    - gl版本选择3.3
    - Profile选择Core
    - 勾选Generate a loader

    得到的Zip中，将include中的头文件复制到上边放依赖文件的对应文件夹
    
    测试成功与否：把src中的glad.c放入项目中，在工程中Build一下，没有报错就代表环境配置成功了
    
### 可能出现的错误

#### unresolved external symbol

注意，这里可能会出现glad.c放入项目中，link错误的情况，错误如下：

```
unresolved external symbol _gladLoadGLLoader referenced in function _main;
unresolved external symbol _glad_glViewport;
```

我们需要在项目，右键add-add extension item，选择glad.c，添加
    或者右键glad.c，选择include in Project
    //如果没有引用进工程，会提示如下图标
![[assets/2.引擎架构分层/2.Creating a window_image_1.png|356]]

引用如下：
    https://stackoverflow.com/questions/58460074/how-to-fix-unresolved-external-symbol-gladloadglloader-referenced-in-function



#### cannot open file 'opengl32.lib'
解决方法：在includes、lib、link的input路径处，下箭头Eidt，勾选最下边的`inherit from parent or project defaults`



